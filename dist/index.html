<!DOCTYPE html>
<html lang="en" class="indexHtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="../assets/css/style.css">
    <script src="../vendor/jQuery/dist/jquery.min.js"></script>
    <script src="../assets/javascript/common.js"></script>
    <title>Sim's portfolio</title>
</head>
<script>

    $(window).load(function(){
        $('#windowLoad').css('opacity','0').hide();
    })


//  jQuery 1.4이후버전은 $(document).ready(function(){}) 대신 $(function(){})씀.
    $(function(){
        $('#windowLoad').show().css('opacity','1');

        //높이조정
        var heightFunction = function(){
            var innerHeight = window.innerHeight;
            $('.main_slide').height(innerHeight);
            }
        heightFunction();
        $(window).resize(function(){
            heightFunction();
        })


        $('#scroll_down_arrow').click(function(event){
          event.preventDefault();
          var news_feed_contents_wrapper_top = $('.news_feed_wrapper h2').offset().top - 70;
          $('body.indexBody').animate({
              'scrollTop':news_feed_contents_wrapper_top
          },'slow')
        })


  //slide
        //slide setup
        var mainSlideArray = [];
        var img_video_src = [];
        var slicer = [];
        var $img_video = $('.slide_contents li .img_video');
        $('.slide_contents li').each(function(i){
          img_video_src[i] += $(this).find($img_video).attr('src');
          slicer[i] = img_video_src[i].slice(9)
        })

        //초기 랜덤값
        var randomIDX = Math.floor(Math.random()*slicer.length);
        var wth = $('.main_slide').width();
        var j = 0;

        //html 복사
        function mover (start,end,side){
            //변수에 HTML담기
            var listHtml00 = $('.mouseListener li:eq('+randomIDX+') a').html();
            //오른쪽클릭
            if (side==1) {
                randomIDX++ ;
                if (randomIDX == slicer.length ) { randomIDX = 0; }
            }else if (side==2) {
              //왼쪽클릭
                randomIDX-- ;
                if (randomIDX < 0) { randomIDX = (slicer.length - 1);}
            }
            var listHtml01 = $('.mouseListener li:eq('+randomIDX+') a').html();

            //HTML넣기
            $('.slide_contents div[class^="s"]:eq('+j+') a').html(listHtml00);
            if (side == 1) {
                j++ ;
                if (j > 1) { j = 0; }
            }else if (side == 2){
                j-- ;
                if (j < 0) { j = 1; }
            }
            $('.slide_contents div[class^="s"]:eq('+j+') a').html(listHtml01);

            //움직여
            $('.slide_contents div[class^="s"]:eq('+j+') .brighter').addClass('visualOn')
            .css({'left':start}).animate({'left':end},800);
        }

        // 해당 list 밝게
        function listBrighter(){
            $('.mouseListener li:eq('+randomIDX+') .brighter').
            css('opacity', '1')
        }
        //opacity 복구
        function previousStatus(){
            $('.mouseListener li:eq('+randomIDX+') .brighter').css('opacity', '')
        }

        $('.right_area').click(function(){
            previousStatus();
            mover('100%','0',1);
            listBrighter();
        }).trigger('click');

        $('.left_area').click(function(){
            previousStatus();
            mover('-100%','0',2);
            listBrighter();
        })

        //a누를때
        function aTracking(start,end){
            var listHtml = $('.mouseListener li:eq('+randomIDX+') a').html();
            $('.slide_contents div[class^="s"]:eq('+j+') a').html(listHtml);
            $('.slide_contents div[class^="s"]:eq('+j+') .brighter').addClass('visualOn')
            .css({'left':start}).animate({'left':end},800);
        }

        $('.mouseListener a').click(function(e){
            e.preventDefault()
            var liIdx = $(this).parent('li').index();
            previousStatus();
            if (liIdx > randomIDX) {
                randomIDX = liIdx;
                aTracking('100%','0',1);
            }else if (liIdx < randomIDX) {
                randomIDX = liIdx;
                aTracking('-100%','0',2);
            }
            listBrighter();
        })

    	//자동이동
    		var speed = 3000;
    		var call = function(){
				  $('.right_area').trigger('click')
    		}
    		var slideInterval = setInterval(call,speed);


      //hover시 슬라이드이동 중지
        $('.slide_contents').mouseenter(function(){
    	  	clearInterval(slideInterval);
    	  }).mouseleave(function(){
    		  slideInterval = setInterval(call,speed);
        })


      //페이지 추가로딩 & gnb text color
        $(window).scroll(function(){
            var innerHeight = window.innerHeight;
            var sct = $(this).scrollTop();
            var totallheight = $('body.indexBody').height();
            console.log(sct);
            console.log(totallheight);
            console.log(totallheight-sct);
            console.log(innerHeight);
            // if ((totallheight-sct)<innerHeight) {
            //     console.log('ㅇ');
            //     // 인스타를부르자
            // }
            if (innerHeight - 90 < sct) {
              $('header .gnb-inner a').css('color','#000');
              $('#btsH00').css('display', 'none');
              $('#scroll_down_arrow').css('display', 'none');
              $('.gnb-inner div.share ul .share_facebook').css({
                'background-image': 'url(../assets/image/facebook-icon-black.svg)'
              });
              $('.gnb-inner div.share ul .share_twitter').css({
                'background-image': 'url(../assets/image/twitter-icon-black.svg)'
              });
              $('.gnb-inner div.share ul .share_google_plus').css({
                'background-image': 'url(../assets/image/g-plus-icon-black.svg)'
              });
            }else if (innerHeight > sct) {
              $('header a').css('color','');
              $('#btsH00').css('display', '');
              $('#scroll_down_arrow').css('display', '');
              $('.gnb-inner div.share ul li').each(function(){
                $(this).css('background-image', '');
              })
            }
        });



        var showndata = 2;
        var loadAsync = function(){
          var parsed = "";
          console.log('glgl');
          $.ajax({
      			url:"../assets/javascript/mainlist.json",
            // 리퀘스트를 요하는 페이지 - 부를페이지
            type: 'GET',
      			dataType: "JSON",
            // 서버의 응답이 JSON일거다.
      			// data : responseJSON,
            // 서버로 보낼 데이터
            // data : this.responseFields.json.parse(),
      			beforeSend: function(){
              console.log(this)
              console.log(this.responseFields.json)
      			}
      		}).done(function(event){
            console.log("왔다");
            console.log(event)
            var newContent = "";
            var htmlHolder = [];
            var order = event.list.length-1;
            var lrt = "";

            for (var i = 0; i < event.list.length; i++) {

                newContent += '<li>';
                newContent += '<div class="column_news_box_' + lrt + '">';
                newContent += '<a href="">';
                newContent += '<img src="' + event.list[i].imgURL + '" alt="">';
                newContent += '</a>';
                newContent += '</div>';
                newContent += '<div class="column_' + lrt + '_text">';
                newContent += '<div class="column_upper_text">';
                newContent += '<a href="">' + event.list[i].SNS + '</a>' + event.list[i].uploadDate;
                newContent += '</div>';
                newContent += '<div class="column_hashtag">';
                newContent += '<p>' + event.list[i].description + '</P>';
                newContent += '</div>';
                newContent += '</div>';
                newContent += '</div>';
                newContent += '</li>';
                htmlHolder.push(newContent);
            }

            for (var i = 0; i < showndata; i++) {
              if($('.column_left').height() <= $('.column_right').height() ){
                console.log('왼쪽에붙이기')
                lrt = 'left';
                $('.column_left > ul > li').after(newContent[order - i]);
              }else{
                lrt = 'right';
                $('.column_right > ul > li').after(newContent[order - i]);
              }

            }


      		}).fail(function(data){
            console.log(data);
            console.log("실패");
          });
        }

        $("#loadMore").on("click",function(e){
          e.preventDefault();
          loadAsync();
        })

    })
</script>
<body class="indexBody">
    <div id="windowLoad">
        <h1>jaywalkers</h1>
    </div>
    <header>
            <gnb>
                <div class="gnb-inner">
                    <div class="menu">
                        <a href="#">
                            <span>menu</span>
                        </a>
                    </div>
                    <div class="share">
                        <a href="" class="share_letter">
                            <span>share</span>
                        </a>
                        <ul class="social_media_share">
                          <li class="share_facebook">
                            <a href="#">
                              <span class="ir">share_facebook</span>
                            </a>
                          </li>
                          <li class="share_twitter">
                            <a href="#">
                              <span class="ir">share_twitter</span>
                            </a>
                          </li>
                          <li class="share_google_plus">
                            <a href="#">
                              <span class="ir">share_google_plus</span>
                            </a>
                          </li>
                        </ul>
                    </div>
                    <div class="h1">
                        <h1 id="btsH00">
                            <a href="https://simssons.github.io/simd_portfolio/dist/index.html">
                              <span>jaywalkers &hearts;</span>
                            </a>
                        </h1>
                    </div>
                </div>
                <div class="menu-main-menu-container" style="background-image:url(../assets/image/main-menu-colored.png); background-size:cover">
                    <!-- includes할 때, gnb,footer 등에서의 html 경로 설정은 index파일을 기준으로 함.  -->
                    <div class="menu-main-menu">
                        <ul class="menu-main-menu-ul">
                            <li class="fifty">
                                <a href="#">about</a>
                                <ul class="sub-menu">
                                    <li>about</li>
                                    <li><a href="https://simssons.github.io/simd_portfolio/dist/biography.html">biography</a></li>
                                </ul>
                            </li>
                            <li class="fifty">
                                <a href="#">photography</a>
                                <ul class="sub-menu">
                                    <li>photography</li>
                                    <li><a href="https://simssons.github.io/simd_portfolio/dist/portraits.html">portraits</a></li>
                                    <li><a href="https://simssons.github.io/simd_portfolio/dist/filter.html">column grids with filter</a></li>
                                </ul>
                            </li>
                            <li class="fifty">
                                <a href="#">film</a>
                                <ul class="sub-menu">
                                    <li>film</li>
                                    <li><a href="https://simssons.github.io/simd_portfolio/dist/tape.html">tape</a></li>
                                    <!-- <li><a href="#">filter</a></li> -->
                                </ul>
                            </li>
                            <li class="fifty">
                                <a href="#">behind the scenes</a>
                                <ul class="sub-menu">
                                    <li>backstory</li>
                                    <li><a href="https://simssons.github.io/simd_portfolio/dist/BehindTheScenes.html">behind the scenes</a></li>
                                </ul>
                            </li>
                            <li class="fifty">
                                <a href="#">blog</a>
                                <ul class="sub-menu">
                                    <li>jay walkers' blog</li>
                                    <li><a href="https://simssons.github.io/simd_portfolio/dist/blog.html">blog</a></li>
                                </ul>
                            </li>
                            <li class="fifty">
                                <a href="#">contact</a>
                                <ul class="sub-menu">
                                    <li>contact me</li>
                                    <li><a href="https://simssons.github.io/simd_portfolio/dist/contact.html">contact</a></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </gnb>
    </header>


    <section class="indexSection">
        <div class="slide_wrapper">
            <div class="main_slide">
              <div class="slide_contents">
                <div class="slideDisplay00">
                  <a href=""></a>
                </div>
                <div class="slideDisplay01">
                  <a href=""></a>
                </div>
                <div class="mouseListener">
                    <ul>
                        <li>
                            <a href="">
                                <video autoplay loop height="100%" class="brighter" muted>
                                    <source src="../assets/video/video_shadow.webm" class="img_video" type="video/mp4"/>
                                </video>
                            </a>
                        </li>
                        <li>
                            <a href=""><img src="../assets/image/main_1.png" class="img_video brighter"  alt=""></a>
                        </li>
                        <li>
                            <a href="">
                                <video autoplay loop height="100%" class="brighter" muted>
                                    <source src="../assets/video/video_staring.webm" class="img_video" type="video/mp4"/>
                                </video>
                            </a>
                        </li>
                        <li>
                            <a href=""><img src="../assets/image/main_2.png" class="img_video brighter"  alt=""></a>
                        </li>
                        <li>
                            <a href=""><img src="../assets/image/main_3.png" class="img_video brighter"  alt=""></a>
                        </li>
                    </ul>
                </div>
              </div><!-- slide_contents -->
              <div class="title_bar">
                <h2>
                  <a href="">
                    <span>PORTRAITS</span>
                    <cite>kendall jenner limited edition print</cite>
                  </a>
                </h2>
              </div>
              <div class="left_area"></div>
              <div class="right_area"></div>
            </div><!-- .main_slide -->
            <div class="scroll_down_arrow_wrapper">
              <a href="" id="scroll_down_arrow"></a>
            </div>
        </div> <!-- slide_wrapper -->
        <!-- slide_wrapper -->

        <div class="news_feed_wrapper">
            <h2>news feed</h2>
            <div class="news_feed_contents_wrapper">
                <div class="news_feed_dot">•</div>
                <div class="news_feed_vertical_line"></div>
                <div class="column_wrapper">
                    <div class="column_left">
                        <ul>
                            <li>
                                <div class="column_news_box_left">
                                    <div class="column_left_image">
                                        <a href="">
                                            <img src="../assets/image/v1.png" alt="">
                                        </a>
                                    </div>
                                    <div class="column_left_text">
                                        <div class="column_upper_text">
                                            <a href="">
                                                instagram
                                            </a>
                                            ,just now
                                        </div>
                                        <div class="column_hashtag">
                                            <p>
                                                Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                                                Morbi faucibus tristique porttitor.
                                                #jaywalkers @jawalkers
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <div class="column_news_box_left">
                                    <div class="column_left_image">
                                        <a href="">
                                            <img src="../assets/image/h1.png" alt="">
                                        </a>
                                    </div>
                                    <div class="column_left_text">
                                        <div class="column_upper_text">
                                            <a href="">
                                                instagram
                                            </a>
                                            ,a day ago
                                        </div>
                                        <div class="column_hashtag">
                                            <p>
                                                Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                                                Morbi faucibus tristique porttitor.
                                                #jaywalkers @jawalkers
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div><!-- column_left -->
                    <div class="column_right">
                        <ul>
                            <li>
                                <div class="column_news_box_right">
                                    <div class="column_right_image">
                                        <a href="">
                                            <img src="../assets/image/v2.png" alt="">
                                        </a>
                                    </div>
                                    <div class="column_right_text">
                                        <div class="column_upper_text">
                                            <a href="">
                                                instagram
                                            </a>
                                            ,3 hours ago
                                        </div>
                                        <div class="column_hashtag">
                                            <p>
                                                Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                                                Morbi faucibus tristique porttitor.
                                                #jaywalkers @jawalkers
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <div class="column_news_box_right">
                                    <div class="column_right_image">
                                        <a href="">
                                            <img src="../assets/image/h2.png" alt="">
                                        </a>
                                    </div>
                                    <div class="column_right_text">
                                        <div class="column_upper_text">
                                            <a href="">
                                                instagram
                                            </a>
                                            ,a month ago
                                        </div>
                                        <div class="column_hashtag">
                                            <p>
                                                Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                                                Morbi faucibus tristique porttitor.
                                                #jaywalkers @jawalkers
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="clear"></div>
                </div>
                <!-- column_wrapper -->
            </div>
            <!-- news_feed_contents_wrapper -->
            <div class="clear"></div>
            <div class="load_more">
                <h3>
                    <a href="" id="loadMore">load more</a>
                </h3>
            </div>
        </div>
        <!-- news_feed_wrapper -->
    </section>

      <script>
        $(function(){

              //백그라운드 포지션
            $(document).on( "mousemove", function( event ) {
                var x = event.pageX;
                var y = event.pageY;
                x *= -1;
                y *= -1;
                $('.footer_btn_bg').stop().css({
                 'background-position-x': x,
                 'background-position-y': y
                });
            })


            var ulWidth = $('.footer_btn_bg ul').width();
            $('.footer_btn_bg').css('width',ulWidth)

            //hover&sprite

            $('.footer_btn_bg li>div').hover(function(){
                $(this).css('background-image', 'none');
                $(this).siblings('.overlay').css('opacity', 1);
                $('.bg_sprite').css('animation-name','runningSprite')

            },function(){
                $(this).css('background-image', '');
                $(this).siblings('.overlay').css('opacity', '');
            })

        })
      </script>
          <footer>
              <div class="footer_btn_holder">
                  <div class="footer_btn_bg">
                      <ul>
                          <li>
                              <div class="instagram">
                                  <a href=""></a>
                              </div>
                              <div class="overlay">
                                <div class="bg_sprite"></div>
                                <div class="social_values">
                                  <span>follow jay</span>
                                </div>
                              </div>
                              <span class="spacer"></span>
                          </li>
                          <li>
                              <div class="facebook">
                                  <a href=""></a>
                              </div>
                              <div class="overlay">
                                <div class="bg_sprite"></div>
                                <div class="social_values">
                                  <span>follow jay</span>
                                </div>
                              </div>
                              <span class="spacer"></span>
                          </li>
                          <li>
                              <div class="twitter">
                                  <a href=""></a>
                              </div>
                              <div class="overlay">
                                <div class="bg_sprite"></div>
                                <div class="social_values">
                                  <span>follow jay</span>
                                </div>
                              </div>
                              <span class="spacer"></span>
                          </li>
                          <li>
                              <div class="youtube">
                                  <a href=""></a>
                              </div>
                              <div class="overlay">
                                <div class="bg_sprite"></div>
                                <div class="social_values">
                                  <span>follow jay</span>
                                </div>
                              </div>
                              <span class="spacer"></span>
                          </li>
                      </ul>
                  </div>
              </div>
              <div class="footer_bottom">
                  <ul class="footer_links">
                      <li>
                          <a href="">&#169; jay walkers</a>
                      </li>
                      <li>
                          <a href="">contact</a>
                      </li>
                      <li>
                          <a href="">about</a>
                      </li>
                      <li>
                          <a href="">blog</a>
                      </li>
                      <li>
                          <a href="">terms &#38; conditions</a>
                      </li>
                      <li>
                          <a href="">top</a>
                      </li>
                  </ul>
              </div>
          </footer>


</body>
</html>
